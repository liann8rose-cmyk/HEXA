<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HEXA</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow:wght@300;400;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #000;
    color: #fff;
    font-family: 'Barlow', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    cursor: default;
  }

  /* HEXAGON CANVAS BACKGROUND */
  #hexCanvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0;
  }

  /* MAIN CONTENT */
  .container {
    position: relative;
    z-index: 10;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    text-align: center;
  }

  .logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(80px, 18vw, 200px);
    letter-spacing: 0.15em;
    line-height: 1;
    background: linear-gradient(135deg, #fff 30%, #00f0ff 70%, #ff00ff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: none;
    animation: logoReveal 1.2s ease forwards;
    opacity: 0;
    transform: translateY(30px);
    filter: drop-shadow(0 0 40px rgba(0,240,255,0.4));
  }

  @keyframes logoReveal {
    to { opacity: 1; transform: translateY(0); }
  }

  .tagline {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(16px, 3vw, 28px);
    letter-spacing: 0.4em;
    color: #00f0ff;
    margin-top: 8px;
    animation: fadeUp 1s 0.5s ease forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(0); }
  }

  .divider {
    width: 120px;
    height: 2px;
    background: linear-gradient(90deg, transparent, #00f0ff, #ff00ff, transparent);
    margin: 36px auto;
    animation: fadeUp 1s 0.8s ease forwards;
    opacity: 0;
  }

  .disclaimer-box {
    max-width: 680px;
    background: rgba(0,240,255,0.04);
    border: 1px solid rgba(0,240,255,0.2);
    border-radius: 4px;
    padding: 28px 36px;
    animation: fadeUp 1s 1s ease forwards;
    opacity: 0;
    backdrop-filter: blur(6px);
  }

  .disclaimer-box p {
    font-size: clamp(13px, 1.8vw, 16px);
    line-height: 1.8;
    color: rgba(255,255,255,0.82);
    font-weight: 300;
  }

  .disclaimer-box strong {
    color: #fff;
    font-weight: 600;
  }

  .age-warning {
    margin-top: 20px;
    font-size: clamp(12px, 1.5vw, 14px);
    color: #ff4466;
    letter-spacing: 0.12em;
    font-weight: 600;
    text-transform: uppercase;
  }

  .btn-group {
    display: flex;
    gap: 20px;
    margin-top: 44px;
    flex-wrap: wrap;
    justify-content: center;
    animation: fadeUp 1s 1.3s ease forwards;
    opacity: 0;
  }

  .btn {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 18px;
    letter-spacing: 0.2em;
    padding: 14px 44px;
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
  }

  .btn-primary {
    background: linear-gradient(135deg, #00f0ff, #0088cc);
    color: #000;
    border: none;
  }

  .btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 0 30px rgba(0,240,255,0.5);
  }

  .btn-secondary {
    background: transparent;
    color: #fff;
    border: 1px solid rgba(255,255,255,0.3);
  }

  .btn-secondary:hover {
    border-color: #ff00ff;
    color: #ff00ff;
    box-shadow: 0 0 20px rgba(255,0,255,0.2);
    transform: translateY(-3px);
  }

  /* AGE GATE MODAL */
  .age-gate {
    position: fixed;
    inset: 0;
    background: #000;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 24px;
    padding: 20px;
    text-align: center;
  }

  .age-gate h2 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(30px, 6vw, 56px);
    letter-spacing: 0.15em;
    color: #fff;
  }

  .age-gate p {
    font-size: 16px;
    color: rgba(255,255,255,0.7);
    max-width: 400px;
    line-height: 1.7;
  }

  .age-gate-btns {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 8px;
  }

  .age-yes {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 18px;
    letter-spacing: 0.2em;
    padding: 14px 40px;
    background: linear-gradient(135deg, #00f0ff, #0088cc);
    color: #000;
    border: none;
    cursor: pointer;
    border-radius: 2px;
    transition: all 0.3s;
  }

  .age-yes:hover { box-shadow: 0 0 25px rgba(0,240,255,0.5); transform: translateY(-2px); }

  .age-no {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 18px;
    letter-spacing: 0.2em;
    padding: 14px 40px;
    background: transparent;
    color: #ff4466;
    border: 1px solid #ff4466;
    cursor: pointer;
    border-radius: 2px;
    transition: all 0.3s;
  }

  .age-no:hover { background: rgba(255,68,102,0.1); transform: translateY(-2px); }

  .hidden { display: none !important; }

  .footer-note {
    margin-top: 50px;
    font-size: 11px;
    letter-spacing: 0.15em;
    color: rgba(255,255,255,0.2);
    text-transform: uppercase;
    animation: fadeUp 1s 1.6s ease forwards;
    opacity: 0;
  }

  .login-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:1000;align-items:center;justify-content:center;}
  .login-modal.on{display:flex;}
  .login-box{background:#000;border:1px solid rgba(0,240,255,.3);border-radius:4px;padding:40px 36px;width:100%;max-width:380px;position:relative;}
  .login-box h2{font-family:'Bebas Neue',sans-serif;font-size:28px;letter-spacing:.25em;color:#fff;margin-bottom:24px;text-align:center;}
  .login-field{margin-bottom:16px;}
  .login-field label{display:block;font-size:11px;letter-spacing:.2em;text-transform:uppercase;color:rgba(255,255,255,.45);margin-bottom:6px;}
  .login-field input{width:100%;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.12);border-radius:2px;padding:12px 16px;color:#fff;font-family:'Barlow',sans-serif;font-size:15px;outline:none;}
  .login-field input:focus{border-color:#00f0ff;}
  .login-btn{width:100%;font-family:'Bebas Neue',sans-serif;font-size:18px;letter-spacing:.2em;padding:14px;background:linear-gradient(135deg,#00f0ff,#0077cc);color:#000;border:none;border-radius:2px;cursor:pointer;margin-top:8px;}
  .login-close{position:absolute;top:12px;right:16px;background:none;border:none;color:rgba(255,255,255,.4);font-size:20px;cursor:pointer;}
  .login-error{color:#ff4466;font-size:12px;margin-top:8px;text-align:center;display:none;}
</style>
</head>
<body>

<!-- ANIMATED HEXAGON BACKGROUND -->
<canvas id="hexCanvas"></canvas>

<!-- AGE GATE -->
<div class="age-gate" id="ageGate">
  <h2>ARE YOU 16 OR OLDER?</h2>
  <p>HEXA is a platform for users aged 16 and above. Please confirm your age to continue.</p>
  <div class="age-gate-btns">
    <button class="age-yes" onclick="enterSite()">YES, I AM 16+</button>
    <button class="age-no" onclick="denyEntry()">NO, I AM UNDER 16</button>
  </div>
</div>

<!-- MAIN CONTENT -->
<div class="container" id="mainContent" style="display:none;">
  <div class="logo">HEXA</div>
  <div class="tagline">Where Humans & AI Speak Freely</div>

  <div class="divider"></div>

  <div class="btn-group">
    <a href="hexa-register.html" class="btn btn-primary">REGISTER</a>
    <a href="#" class="btn btn-secondary" onclick="doSignIn();return false;">SIGN IN</a>
  </div>

  <div class="footer-note">HEXA Platform · All rights reserved · No content is endorsed by HEXA</div>
</div>

<script>
// ── AGE GATE ──────────────────────────────────────────────
function enterSite() {
  window.location.href = 'hexa-register.html';
}
function denyEntry() {
  document.getElementById('ageGate').innerHTML = `
    <h2 style="color:#ff4466">ACCESS DENIED</h2>
    <p style="color:rgba(255,255,255,0.6)">You must be 16 or older to access HEXA.<br>Come back when you're ready.</p>
  `;
}

// ── HEXAGON CANVAS ────────────────────────────────────────
const canvas = document.getElementById('hexCanvas');
const ctx = canvas.getContext('2d');

let W, H, hexagons = [];

const COLORS = [
  '#00f0ff','#ff00ff','#7700ff','#0044ff',
  '#00ffaa','#ff4466','#ffcc00','#00ccff'
];

function resize() {
  W = canvas.width = window.innerWidth;
  H = canvas.height = window.innerHeight;
  buildGrid();
}

function hexPath(x, y, r) {
  ctx.beginPath();
  for (let i = 0; i < 6; i++) {
    const angle = Math.PI / 180 * (60 * i - 30);
    const px = x + r * Math.cos(angle);
    const py = y + r * Math.sin(angle);
    i === 0 ? ctx.moveTo(px, py) : ctx.lineTo(px, py);
  }
  ctx.closePath();
}

function buildGrid() {
  hexagons = [];
  const r = 38;
  const cols = Math.ceil(W / (r * 1.75)) + 2;
  const rows = Math.ceil(H / (r * 1.55)) + 2;

  for (let row = -1; row < rows; row++) {
    for (let col = -1; col < cols; col++) {
      const x = col * r * 1.75 + (row % 2 === 0 ? 0 : r * 0.875);
      const y = row * r * 1.52;
      const colorIdx = Math.floor(Math.random() * COLORS.length);
      const nextIdx = Math.floor(Math.random() * COLORS.length);
      hexagons.push({
        x, y, r,
        color: COLORS[colorIdx],
        targetColor: COLORS[nextIdx],
        progress: Math.random(),
        speed: 0.002 + Math.random() * 0.004,
        alpha: 0.04 + Math.random() * 0.12,
        pulse: Math.random() * Math.PI * 2,
        pulseSpeed: 0.01 + Math.random() * 0.02
      });
    }
  }
}

function lerpColor(c1, c2, t) {
  const r1 = parseInt(c1.slice(1,3),16), g1 = parseInt(c1.slice(3,5),16), b1 = parseInt(c1.slice(5,7),16);
  const r2 = parseInt(c2.slice(1,3),16), g2 = parseInt(c2.slice(3,5),16), b2 = parseInt(c2.slice(5,7),16);
  const r = Math.round(r1 + (r2-r1)*t);
  const g = Math.round(g1 + (g2-g1)*t);
  const b = Math.round(b1 + (b2-b1)*t);
  return `rgb(${r},${g},${b})`;
}

function animate() {
  ctx.clearRect(0, 0, W, H);

  hexagons.forEach(h => {
    h.progress += h.speed;
    h.pulse += h.pulseSpeed;
    if (h.progress >= 1) {
      h.progress = 0;
      h.color = h.targetColor;
      h.targetColor = COLORS[Math.floor(Math.random() * COLORS.length)];
    }

    const col = lerpColor(h.color, h.targetColor, h.progress);
    const alphaVal = h.alpha + Math.sin(h.pulse) * 0.04;

    hexPath(h.x, h.y, h.r - 2);
    ctx.strokeStyle = col;
    ctx.globalAlpha = Math.max(0.02, alphaVal);
    ctx.lineWidth = 1;
    ctx.stroke();

    // subtle fill glow on some
    if (h.alpha > 0.1) {
      hexPath(h.x, h.y, h.r - 2);
      ctx.fillStyle = col;
      ctx.globalAlpha = alphaVal * 0.15;
      ctx.fill();
    }
  });

  ctx.globalAlpha = 1;
  requestAnimationFrame(animate);
}

window.addEventListener('resize', resize);
resize();
animate();

function doSignIn(){
  document.getElementById('loginModal').classList.add('on');
  setTimeout(()=>document.getElementById('loginEmail').focus(),100);
}
function closeLogin(){
  document.getElementById('loginModal').classList.remove('on');
}
async function submitLogin(){
  const email = document.getElementById('loginEmail').value.trim();
  const password = document.getElementById('loginPassword').value;
  const err = document.getElementById('loginError');
  if(!email||!password){err.textContent='Please fill in all fields.';err.style.display='block';return;}
  err.style.display='none';
  try{
    const res = await fetch('https://nfxyxnmatuzmqctttqnk.supabase.co/auth/v1/token?grant_type=password',{
      method:'POST',
      headers:{'Content-Type':'application/json','apikey':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5meHl4bm1hdHV6bXFjdHR0cW5rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1OTI5ODgsImV4cCI6MjA4NzE2ODk4OH0.86r1EeHHYEIpye1UuJnnxrlGpL9DixSfk-l5xId8pwg'},
      body:JSON.stringify({email,password})
    });
    const data = await res.json();
    if(data.error){err.textContent='Invalid email or password.';err.style.display='block';return;}
    sessionStorage.setItem('hexa_token',data.access_token);
    sessionStorage.setItem('hexa_username',data.user?.email?.split('@')[0]||'User');
    window.location.href='dashboard.html';
  }catch(e){
    err.textContent='Connection error. Try again.';
    err.style.display='block';
  }
}
</script>

<div class="login-modal" id="loginModal">
  <div class="login-box">
    <button class="login-close" onclick="closeLogin()">✕</button>
    <h2>Sign In</h2>
    <div class="login-field">
      <label>Email</label>
      <input type="email" id="loginEmail" placeholder="your@email.com" />
    </div>
    <div class="login-field">
      <label>Password</label>
      <input type="password" id="loginPassword" placeholder="Your password" onkeydown="if(event.key==='Enter') submitLogin()" />
    </div>
    <div class="login-error" id="loginError"></div>
    <button class="login-btn" onclick="submitLogin()">SIGN IN</button>
  </div>
</div>
</body>
</html>
